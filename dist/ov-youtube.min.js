/*! ov-youtube - v0.0.0 - 2016-10-01 */!function(){"use strict";angular.module("ov.directives").constant("YT_STATUS",{UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,VIDEO_CUED:5}).constant("YT_EVENT",{STOP:"yt_stop",PLAY:"yt_play",PAUSE:"yt_pause"}).constant("YT_ERROR",{INVALID_PARAM:2,CANNOT_PLAY:5,NOT_FOUND:100,NOT_ALLOWED:[101,150]}).directive("ovYoutube",["$window","YT_STATUS","YT_EVENT","YT_ERROR",function(a,b,c,d){return{restrict:"E",scope:{videoId:"@",height:"@",width:"@",autoplay:"@",autohide:"@",loop:"@",color:"@",controls:"@",iv_load_policy:"@",fs:"@",showinfo:"@",modestbranding:"@",theme:"@",onStatusChanged:"&",onError:"&"},template:"<div></div>",link:function(e,f){var g,h=document.createElement("script"),i=document.getElementsByTagName("script")[0];h.src="https://www.youtube.com/iframe_api",i.parentNode.insertBefore(h,i),a.onYouTubeIframeAPIReady=function(){g=new YT.Player(f.children()[0],{videoId:e.videoId,height:e.height,width:e.width,playerVars:{autoplay:e.autoplay?1:0,autohide:e.autohide,loop:e.loop||0,color:e.color,controls:e.controls,iv_load_policy:e.iv_load_policy,fs:e.fs,showinfo:e.showinfo,modesbranding:e.modesbranding,theme:e.theme,html5:1},events:{onError:function(a){var b={error:""};if(d.NOT_ALLOWED.indexOf(a.data)!==-1)b.error=d.NOT_ALLOWED;else switch(a.data){case d.NOT_FOUND:b.error=d.NOT_FOUND;break;case d.CANNOT_PLAY:b.error=d.CANNOT_PLAY;break;case d.INVALID_PARAM:b.error=d.INVALID_PARAM}e.onError(b)},onStateChange:function(a){var c={status:""};switch(a.data){case YT.PlayerState.ENDED:c.status=b.ENDED;break;case YT.PlayerState.PLAYING:c.status=b.PLAYING;break;case YT.PlayerState.PAUSED:c.status=b.PAUSED;break;case YT.PlayerState.UNSTARTED:c.status=b.UNSTARTED;break;case YT.PlayerState.BUFFERING:c.status=b.BUFFERING;break;case YT.PlayerState.CUED:c.status=b.VIDEO_CUED}e.onStatusChanged(c)}}})},e.$watch("height + width",function(a,b){a!==b&&g.setSize(e.width,e.height)}),e.$watch("videoId",function(a,b){a!==b&&g.cueVideoById(e.videoid)}),e.$on(c.STOP,function(){g.seekTo(0),g.stopVideo()}),e.$on(c.PLAY,function(){g.playVideo()}),e.$on(c.PAUSE,function(){g.pauseVideo()})}}}])}();